define("bundles/kingappform/js/error",["jquery","bundles/kingappcommon/js/alerter","bundles/kingappcommon/js/browser"],function(e,r,o){"use strict";return function(s){var n,t,a=e(this);s.responseJSON.redirect&&o.redirect(s.responseJSON.redirect),delete s.responseJSON.redirect;var i=[];e.each(e.param(s.responseJSON).replace(/\+/g," ").split("&"),function(){"_token"!==(n=decodeURIComponent(this.toString()).split("[]="))[0]?((t=e(':input[name="'+n[0]+'"]').closest(".form-group,td")).length||(t=e(".form-group."+n[0].replace(/\[/g,"_").replace(/\]/g,""))),"_main"===n[0]&&(i.push(n[1]),t=a),t.addClass("form-error").append(e("<span/>").addClass("error").html(n[1]).append(e("<i/>").addClass("fa fa-trash-o")))):a.find('[name*="[_token]"]').val(n[1])}),r.error(i.join("<br/>")),a.trigger("form.error",[!0]).closest(".form-container").removeClass("is-validated");var p=e("body").find(".form-error:visible:first");p.length&&e("html, body").animate({scrollTop:p.offset().top-300},800)}});